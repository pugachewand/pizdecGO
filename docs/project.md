## Структура\архитектура проекта

-  Каждый компонент и логика его работы хранится в папке `Components\ComponentName` (далее `.`)
-  В компоненте храним только данные по отрисовке `./ComponentName.tsx`. Вся бизнес-логика пакуется в `./ComponentName.Store.ts`.
-  Дочерние компоненты и стили храним в `./ComponentName.Components.tsx`. Если их набирается много, создаём папку `./Components`
-  Данные по типизации в `./ComponentName.Types.ts`
-  Стили в `.ComponentName.Styles.ts`
-  Общие стили, цвета и другие данные по оформлению храним в папке `Styles`


### Отсутствие значения

-  При использовании библиотек используем тот тип отсутствия значения, который использует библиотека.
-  Для своего кода, везде, где можно использовать вместо `null` `undefined`, используем `undefined`.

### Тестирование
-  Тесты делятся на блок `Application` (интеграционные тесты самого приложения) и `Backend` (тесты бэкэнда, чтобы убедиться, что бэкэнд возвращает тот же JSON, что и раньше)
-  Для интеграционных тестов ознакамливаемся с библиотекой https://callstack.github.io/react-native-testing-library/
-  Если поймали бесконечное выполнение тестов - читайте заметку https://callstack.github.io/react-native-testing-library/docs/api#waitfor

### Прочие замечания по стилистике, стандартам, архитектуре

-  Если есть сомнения, понадобится ли в будущем класс\компонент\функция, помечаем его аннотацией `/** @deprecated */`
-  Применение циклов `for` нежелательно. Стараемся придерживаться функционального подхода. `map()`, `forEach()`, `reduce()` и функции `groupBy()`, `flatMap()` и `flatten()` из библиотеки lodash.
-  Если при приблизительно равном объёме кода наследование можно заменить композицией, заменяем наследование композицией
-  Для сравнения и копирования объектов используем `_.isEqual()` и `_.cloneDeep()`. `JSON.parse()` и `JSON.stringify()` использовать нельзя.
-  Если компонент не хранит собственное состояние, используем функциональный компонент. В остальных случаях как удобно по ситуации: можно классовый, можно функциональный.


## Установка и настройка

-  Устанавливаем ноду (12-ю LTS-версию)
-  Устанавливаем глобально yarn `npm i -g yarn`
-  [Устанавливаем React Native](https://reactnative.dev/docs/environment-setup)
-  Устанавливаем Android Studio или XCode
-  Если ранее стояла старая версия React Native, её надо удалить и [установить новую от @react-native-community](https://github.com/react-native-community/react-native-template-typescript/issues/72#issuecomment-541288488)
-  Устанавливаем зависимости `cd /path/to/project && yarn`
-  Подключаем телефон по USB
-  `yarn android-beta` или `yarn ios`
-  Не забываем поставить расширения для VS Code `.editorconfig`, `sort-imports`, `eslint`

### Нюансы запуска на Android

-  [Демонстрацию экрана можно проводить через ScrCpy](https://github.com/Genymobile/scrcpy/releases)
-  В режиме отладки используется стоковый JSC. При выключенной отладке (в меню нажатой клавиши `d` из командной строки или если потрясти телефон) используется hermes.
-  [Если при включенной отладке приложение зависает](https://github.com/facebook/react-native/issues/28531), смотрим ветку, обновляемся на свежий @react-native-community/cli, надеемся, что поправят. Либо выключаем отладку и выводим всё в консоль.


### APN certificate (Firebase Cloud Messaging)
- Сертификат нужен для отправки пушей в iOS
- [Ссылка на сертификат](https://drive.google.com/drive/u/0/folders/15eklC0rFHGJCY3jnmFstgx669aY57i_b)